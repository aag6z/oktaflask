{% extends "base.html" %}
{% block body %}
  <!-- Render the login widget here -->
  <div id="okta-login-container"></div>

  <div><a href="https://dev-788346.oktapreview.com/oauth2/v1/authorize?idp=0oa9rt9rdrhICo1Bk0h7&client_id=xYqReZcoWPCKXhhI1Dg2&scope=openid%20email%20profile&response_type=id_token&response_mode=fragment&state=someState&nonce=someNonce&redirect_uri=https://dev-788346.oktapreview.com/oauth2/v1/authorize/callback">Log in</a>



  <!-- Script to init the widget -->
  <script>
    var orgUrl = 'https://dev-788346.oktapreview.com';
    var redirectUrl = 'http://localhost:5000/loggedin';
    var oktaSignIn = new OktaSignIn({
      baseUrl: orgUrl,
      logo: 'https://s-media-cache-ak0.pinimg.com/564x/5b/44/cf/5b44cf2fa153d4e1ce322d0bd773c6a0.jpg',

      features: {
        rememberMe: false,
        smsRecovery: true,
      },

      // See the contents of the 'okta-theme.css' file for a full list of labels.
      labels: {
        'primaryauth.title': 'Cutco Enterprises',
        'primaryauth.username': 'User ID',
        'primaryauth.username.tooltip': 'Enter your @amyokta.test.com ID',
        'primaryauth.password': 'Password',
        'primaryauth.password.tooltip': 'Super secret password'
      }
    });
    oktaSignIn.renderEl(
      { el: '#okta-login-container' },
      function (res) {
        if (res.status === 'SUCCESS') {
          console.log('User %s successfully authenticated %o', res.user.profile.login, res.user);
          res.session.setCookieAndRedirect(redirectUrl);
        }
      }
    );
  </script>
{% endblock %}